<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Signup Username & Password BigInt</title>
<style>
  :root{
    --bg:#0b0d10; --card:#0f1114; --muted:#9aa0a6;
    --primary:#38a169; --primary-text:#031013;
    --secondary:#1f2933; --secondary-text:#e6eef3;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#070708);color:#e6eef3;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;}
  .container{max-width:640px;margin:32px auto;padding:20px;}
  .card{background:var(--card);border-radius:10px;padding:28px;box-shadow:0 6px 24px rgba(0,0,0,.6);margin-bottom:20px;}
  h1{margin:0;font-size:18px;font-weight:600;color:#fff}
  form{max-width:640px;margin:auto;display:flex;flex-direction:column;gap:14px}
  label{font-size:12px;color:var(--muted);margin-bottom:6px}
  input[type="number"], input[type="password"]{
    width:100%;padding:14px;font-size:15px;border-radius:8px;border:1px solid rgba(255,255,255,.04);
    background:#0b0d10;color:#e6eef3;outline:none;box-sizing:border-box;
  }
  .row{display:flex;gap:12px}
  .row > *{flex:1}
  .btn{margin-top:6px;padding:14px;font-size:15px;border-radius:10px;border:none;cursor:pointer}
  .btn-primary{background:var(--primary);color:var(--primary-text);}
  .btn-secondary{background:var(--secondary);color:var(--secondary-text);}
  .btn:disabled{opacity:.6;cursor:not-allowed;}
  .small{font-size:13px;color:var(--muted);text-align:left;margin-top:12px;white-space:pre-wrap;}
  .scrollable{overflow:auto;max-height:400px;max-width:100%;margin-top:10px;white-space:pre;}
</style>
</head>
<body>
<div class="container">

  <div class="card">
    <div class="card-header" style="margin-bottom:16px;">
      <h1>Signup Username & Password BigInt</h1>
    </div>

    <form id="signupBigIntForm">
      <div>
        <label for="type">Type</label>
        <input id="type" name="type" type="number" placeholder="1" required />
      </div>

      <div>
        <label for="username_bigint">Username BigInt</label>
        <input id="username_bigint" name="username_bigint" type="number" placeholder="123" required />
      </div>

      <div>
        <label for="password_bigint">Password BigInt</label>
        <input id="password_bigint" name="password_bigint" type="number" placeholder="123" required />
      </div>

      <div class="row">
        <button id="clearBtn" type="button" class="btn btn-secondary">Clear</button>
        <button id="submitBtn" type="submit" class="btn btn-primary">Sign Up</button>
      </div>
    </form>

    <div class="small" id="status"></div>
    <div id="output" class="scrollable"></div>
  </div>

</div>

<script>
(function(){
  const form = document.getElementById('signupBigIntForm');
  const status = document.getElementById('status');
  const output = document.getElementById('output');
  const clearBtn = document.getElementById('clearBtn');
  const submitBtn = document.getElementById('submitBtn');

  clearBtn.addEventListener('click', ()=>{
    form.reset(); status.textContent=''; output.innerHTML='';
  });

  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    status.textContent = 'Signing up...';
    output.innerHTML = '';
    submitBtn.disabled = true;

    try{
      const baseurl = window.location.origin;
      const body = {
        type: Number(form.type.value.trim()),
        username_bigint: Number(form.username_bigint.value.trim()),
        password_bigint: Number(form.password_bigint.value.trim())
      };

      const resp = await fetch(baseurl + '/auth/signup-username-password-bigint', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(body)
      });

      const text = await resp.text();
      if(!resp.ok){
        status.textContent = 'Error: ' + text;
        return;
      }

      let parsed;
      try { parsed = JSON.parse(text); } catch { parsed = null; }

      if(parsed && parsed.message){
        status.textContent = 'Success:';
        output.innerHTML = '<pre>' + JSON.stringify(parsed, null, 2) + '</pre>';
      } else {
        status.textContent = 'Raw Response:';
        output.innerHTML = '<pre>' + text + '</pre>';
      }

    }catch(err){
      status.textContent = 'Error: ' + (err.message || err);
    }finally{
      submitBtn.disabled = false;
    }
  });
})();
</script>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Curl Requester</title>
<style>
:root{--bg:#0b0d10;--card:#0f1114;--muted:#9aa0a6;--primary:#38a169;--primary-text:#031013;--secondary:#1f2933;--secondary-text:#e6eef3;--delete:#dc3545;--accent:#4299e1}
body{margin:0;background:var(--bg);color:#e6eef3;font-family:Inter,system-ui;line-height:1.6}
.container{max-width:720px;margin:40px auto;padding:20px}
.card{background:var(--card);border-radius:12px;padding:28px;box-shadow:0 8px 32px rgba(0,0,0,.6);border:1px solid rgba(255,255,255,.05)}
h1{margin:0 0 24px 0;font-size:22px;font-weight:600;display:flex;justify-content:space-between;align-items:center}
.custom-select-wrapper{position:relative;display:flex;align-items:center;margin-bottom:28px}
#apiInput{width:100%;padding:12px 40px 12px 16px;font-size:15px;border-radius:8px;border:1px solid rgba(255,255,255,.12);background:#1a1d23;color:#e6eef3;box-sizing:border-box}
#apiInput:focus{outline:none;border-color:var(--accent);border-bottom-left-radius:0;border-bottom-right-radius:0}
.clear-api-btn{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:0 0;border:none;color:var(--muted);font-size:20px;cursor:pointer;display:none}
.api-dropdown{position:absolute;top:100%;left:0;right:0;z-index:1000;list-style:none;padding:0;margin:0;background:#1a1d23;border:1px solid var(--accent);border-top:none;border-bottom-left-radius:8px;border-bottom-right-radius:8px;max-height:250px;overflow-y:auto;display:none}
.api-dropdown.show{display:block}.api-dropdown li{padding:10px 16px;font-size:14px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.api-dropdown li:hover{background:#2a3642;color:#fff}
form{display:flex;flex-direction:column;gap:24px}
.section-label{display:flex;align-items:center;gap:12px;font-size:12px;font-weight:700;color:var(--accent);margin-bottom:12px;text-transform:uppercase;letter-spacing:1px}
.add-btn-small{background:var(--accent);color:#fff;border:none;border-radius:5px;cursor:pointer;height:22px;width:22px;display:flex;align-items:center;justify-content:center}
.dynamic-container{display:flex;flex-direction:column;gap:12px}
.input-row{display:flex;gap:10px;align-items:center;animation:slideIn .3s ease}
@keyframes slideIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
input,select{width:100%;padding:12px 14px;font-size:14px;border-radius:8px;border:1px solid rgba(255,255,255,.08);background:#14171c;color:#e6eef3;box-sizing:border-box}
input:focus,select:focus{outline:none;border-color:var(--accent)}
.row-key{flex:0 0 140px}.row-val{flex:1}

.json-type-selector{
    flex:0 0 120px;
    padding:12px 32px 12px 14px;
    appearance:none;
    -webkit-appearance:none;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239aa0a6' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
    background-repeat:no-repeat;
    background-position:right 12px center;
    width:auto;
    cursor:pointer
}

.remove-btn{background:var(--delete);color:#fff;border:none;width:36px;height:36px;flex:0 0 36px;border-radius:8px;cursor:pointer}
.footer-row{display:flex;gap:16px;margin-top:12px}.btn{padding:14px 24px;flex:1;font-size:15px;font-weight:600;border-radius:8px;border:none;cursor:pointer;height:48px}
.btn-primary{background:var(--primary);color:var(--primary-text)}.btn-secondary{background:var(--secondary);color:var(--secondary-text)}
.resp-box{background:#14171c;border-radius:10px;margin-top:28px;display:none;border:1px solid rgba(255,255,255,.08);overflow:hidden;max-height:500px;flex-direction:column}
.resp-box.show{display:flex}.resp-header{padding:16px 20px;background:#1a1d23;border-bottom:1px solid rgba(255,255,255,.08);font-weight:600;font-size:13px;color:var(--accent);text-transform:uppercase}
.resp-content{overflow-y:auto}table{width:100%;border-collapse:collapse}

/* FIXED: vertical-align top keeps the Copy button at the top even for long messages */
td{padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.05);font-size:14px;vertical-align:top}

.key{color:var(--muted);width:140px;font-weight:600;}

/* FIXED: Changed font-family to Inter to match main UI */
.val{word-break:break-all;font-family:Inter,system-ui}

.copy-btn{background:#2a3642;color:#ccc;border:none;padding:8px 14px;border-radius:6px;cursor:pointer}
.section-group{display:none}.section-group.active{display:block}
</style>
</head>
<body>
<div class="container"><div class="card">
<h1>Curl Requester <span id="apiCount" style="font-size:14px;color:var(--muted)"></span></h1>
<div class="custom-select-wrapper" id="selW">
    <input type="text" id="apiIn" placeholder="Search" autocomplete="off">
    <button type="button" id="clrSel" class="clear-api-btn">×</button>
    <ul id="apiDrop" class="api-dropdown"></ul>
</div>
<form id="apiForm">
    <div class="section-group" id="hSec"><div class="section-label">Headers <button type="button" id="addH" class="add-btn-small">+</button></div><div id="hCont" class="dynamic-container"></div></div>
    <div class="section-group" id="qSec"><div class="section-label">Query Params <button type="button" id="addQ" class="add-btn-small">+</button></div><div id="qCont" class="dynamic-container"></div></div>
    <div class="section-group" id="fSec"><div class="section-label">Form Data <button type="button" id="addF" class="add-btn-small">+</button></div><div id="fCont" class="dynamic-container"></div></div>
    <div class="section-group" id="jSec"><div class="section-label">JSON Body <button type="button" id="addJ" class="add-btn-small">+</button></div><div id="jCont" class="dynamic-container"></div></div>
    <div class="footer-row"><button id="clrBtn" type="button" class="btn btn-secondary">Clear</button><button id="subBtn" type="submit" class="btn btn-primary">Submit</button></div>
</form>
<div class="resp-box" id="rBox"><div class="resp-header">Response</div><div class="resp-content"><table id="rTab"></table></div></div>
</div></div>
<script>
const COMMANDS=[
{p:"/",m:"GET",h:[],q:[],f:[],j:[]},
{p:"/root/postgres-init",m:"GET",h:[{k:"Authorization",v:""}],q:[],f:[],j:[]},
{p:"/root/postgres-clean",m:"GET",h:[{k:"Authorization",v:""}],q:[],f:[],j:[]},
{p:"/root/postgres-runner",m:"POST",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"mode",v:"read",t:"string"},{k:"query",v:"select * from users limit 10;",t:"string"}]},
{p:"/root/postgres-export",m:"POST",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"query",v:"select * from users limit 10;",t:"string"}]},
{p:"/root/postgres-import",m:"POST",h:[{k:"Authorization",v:""}],q:[],f:[{k:"mode",v:"create"},{k:"table",v:"test"},{k:"file",v:"@file.csv"}],j:[]},
{p:"/root/redis-import-create",m:"POST",h:[{k:"Authorization",v:""}],q:[],f:[{k:"table",v:"test"},{k:"expiry_sec",v:"100"},{k:"file",v:"@file.csv"}],j:[]},
{p:"/root/redis-import-delete",m:"POST",h:[{k:"Authorization",v:""}],q:[],f:[{k:"file",v:"@file.csv"}],j:[]},
{p:"/root/mongodb-import-create",m:"POST",h:[{k:"Authorization",v:""}],q:[],f:[{k:"database",v:"test"},{k:"table",v:"test"},{k:"file",v:"@file.csv"}],j:[]},
{p:"/root/s3-url-delete",m:"POST",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"url",v:"url1,url2,url3",t:"string"}]},
{p:"/root/s3-bucket-ops",m:"GET",h:[{k:"Authorization",v:""}],q:[{k:"mode",v:"create"},{k:"bucket",v:"master"}],f:[],j:[]},
{p:"/root/reset-global",m:"GET",h:[{k:"Authorization",v:""}],q:[],f:[],j:[]},
{p:"/auth/signup-username-password",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"type",v:"1",t:"number"},{k:"username",v:"test",t:"string"},{k:"password",v:"123",t:"string"}]},
{p:"/auth/signup-username-password-bigint",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"type",v:"1",t:"number"},{k:"username_bigint",v:"123",t:"number"},{k:"password_bigint",v:"123",t:"number"}]},
{p:"/auth/login-password-username",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"type",v:"1",t:"number"},{k:"password",v:"test",t:"string"},{k:"username",v:"test",t:"string"}]},
{p:"/auth/login-password-username-bigint",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"type",v:"1",t:"number"},{k:"password_bigint",v:"123",t:"number"},{k:"username_bigint",v:"123",t:"number"}]},
{p:"/auth/login-password-email",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"type",v:"1",t:"number"},{k:"password",v:"123",t:"number"},{k:"email",v:"test",t:"string"}]},
{p:"/auth/login-password-mobile",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"type",v:"1",t:"number"},{k:"password",v:"123",t:"number"},{k:"mobile",v:"test",t:"string"}]},
{p:"/auth/login-otp-email",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"type",v:"1",t:"number"},{k:"otp",v:"123",t:"string"},{k:"email",v:"test",t:"string"}]},
{p:"/auth/login-otp-mobile",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"type",v:"1",t:"number"},{k:"otp",v:"123",t:"string"},{k:"mobile",v:"test",t:"string"}]},
{p:"/auth/login-google",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"type",v:"1",t:"number"},{k:"google_token",v:"test",t:"string"}]},
{p:"/my/profile",m:"GET",h:[{k:"Authorization",v:""}],q:[],f:[],j:[]},
{p:"/my/token-refresh",m:"GET",h:[{k:"Authorization",v:""}],q:[],f:[],j:[]},
{p:"/my/api-usage",m:"GET",h:[{k:"Authorization",v:""}],q:[],f:[],j:[]},
{p:"/my/account-delete",m:"DELETE",h:[{k:"Authorization",v:""}],q:[{k:"mode",v:"soft"}],f:[],j:[]},
{p:"/my/message-received",m:"GET",h:[{k:"Authorization",v:""}],q:[],f:[],j:[]},
{p:"/my/message-inbox",m:"GET",h:[{k:"Authorization",v:""}],q:[],f:[],j:[]},
{p:"/my/message-thread",m:"GET",h:[{k:"Authorization",v:""}],q:[{k:"user_id",v:"1"}],f:[],j:[]},
{p:"/my/message-delete-single",m:"DELETE",h:[{k:"Authorization",v:""}],q:[{k:"id",v:"1"}],f:[],j:[]},
{p:"/my/message-delete-bulk",m:"DELETE",h:[{k:"Authorization",v:""}],q:[{k:"mode",v:"all"}],f:[],j:[]},
{p:"/my/parent-read",m:"GET",h:[{k:"Authorization",v:""}],q:[{k:"table",v:"report_user"},{k:"parent_column",v:"user_id"},{k:"parent_table",v:"users"}],f:[],j:[]},
{p:"/my/object-create-mongodb",m:"POST",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[{k:"database",v:"test"},{k:"table",v:"test"}],f:[],j:[{k:"type",v:"1",t:"number"},{k:"title",v:"test",t:"string"}]},
{p:"/my/object-create",m:"POST",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[{k:"table",v:"test"}],f:[],j:[{k:"type",v:"1",t:"number"},{k:"title",v:"my",t:"string"}]},
{p:"/my/object-update",m:"PUT",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[{k:"table",v:"test"}],f:[],j:[{k:"id",v:"161",t:"number"},{k:"title",v:"updated",t:"string"},{k:"created_by_id",v:"100",t:"number"}]},
{p:"/my/ids-update",m:"PUT",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"table",v:"test",t:"string"},{k:"ids",v:"1919,1920,1921",t:"string"},{k:"column",v:"is_deleted",t:"string"},{k:"value",v:"1",t:"number"}]},
{p:"/my/ids-delete",m:"POST",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"table",v:"test",t:"string"},{k:"ids",v:"1919,1920,1921",t:"string"}]},
{p:"/my/object-read",m:"GET",h:[{k:"Authorization",v:""}],q:[{k:"table",v:"test"}],f:[],j:[]},
{p:"/public/info",m:"GET",h:[],q:[],f:[],j:[]},
{p:"/public/otp-verify",m:"GET",h:[],q:[{k:"otp",v:"123"},{k:"email",v:"test"}],f:[],j:[]},
{p:"/public/otp-send-email-ses",m:"GET",h:[],q:[{k:"sender",v:"test"},{k:"email",v:"test"}],f:[],j:[]},
{p:"/public/otp-send-email-resend",m:"GET",h:[],q:[{k:"sender",v:"test"},{k:"email",v:"test"}],f:[],j:[]},
{p:"/public/otp-send-mobile-sns",m:"GET",h:[],q:[{k:"mobile",v:"test"}],f:[],j:[]},
{p:"/public/otp-send-mobile-sns-template",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"mobile",v:"test",t:"string"},{k:"message",v:"test",t:"string"},{k:"template_id",v:"test",t:"string"},{k:"entity_id",v:"test",t:"string"},{k:"sender_id",v:"test",t:"string"}]},
{p:"/public/otp-send-mobile-fast2sms",m:"GET",h:[],q:[{k:"mobile",v:"test"}],f:[],j:[]},
{p:"/public/jira-worklog-export",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"jira_base_url",v:"test",t:"string"},{k:"jira_email",v:"test",t:"string"},{k:"jira_token",v:"test",t:"string"},{k:"start_date",v:"test",t:"string"},{k:"end_date",v:"test",t:"string"}]},
{p:"/public/object-create",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[{k:"table",v:"test"}],f:[],j:[{k:"type",v:"1",t:"number"},{k:"title",v:"public",t:"string"}]},
{p:"/public/object-read",m:"GET",h:[],q:[{k:"table",v:"test"}],f:[],j:[]},
{p:"/public/object-read-gsheet",m:"GET",h:[],q:[{k:"url",v:"test"}],f:[],j:[]},
{p:"/public/object-create-gsheet",m:"POST",h:[{k:"Content-Type",v:"application/json"}],q:[{k:"url",v:"test"}],f:[],j:[{k:"type",v:"1",t:"number"},{k:"title",v:"public",t:"string"}]},
{p:"/public/converter-integer",m:"GET",h:[],q:[{k:"mode",v:"encode"},{k:"x",v:"test"}],f:[],j:[]},
{p:"/private/s3-upload-file",m:"POST",h:[{k:"Authorization",v:""}],q:[],f:[{k:"bucket",v:"test"},{k:"file",v:"@file1"},{k:"key",v:"test1.png"}],j:[]},
{p:"/private/s3-upload-presigned",m:"GET",h:[{k:"Authorization",v:""}],q:[{k:"bucket",v:"test"},{k:"key",v:"test"}],f:[],j:[]},
{p:"/admin/object-create",m:"POST",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[{k:"table",v:"test"}],f:[],j:[{k:"type",v:"1",t:"number"},{k:"title",v:"admin",t:"string"}]},
{p:"/admin/object-update",m:"PUT",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[{k:"table",v:"test"}],f:[],j:[{k:"id",v:"197",t:"number"},{k:"title",v:"admin",t:"string"}]},
{p:"/admin/object-read",m:"GET",h:[{k:"Authorization",v:""}],q:[{k:"table",v:"test"}],f:[],j:[]},
{p:"/admin/ids-update",m:"PUT",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"table",v:"test",t:"string"},{k:"ids",v:"1,2,3",t:"string"},{k:"column",v:"title",t:"string"},{k:"value",v:"admin",t:"string"}]},
{p:"/admin/ids-delete",m:"POST",h:[{k:"Authorization",v:""},{k:"Content-Type",v:"application/json"}],q:[],f:[],j:[{k:"table",v:"test",t:"string"},{k:"ids",v:"1,2,3",t:"string"},{k:"column",v:"is_deleted",v:"1",t:"string"}]},
];
const d=document, $=i=>d.getElementById(i), orig=COMMANDS.map((c,i)=>({...c,oi:i}));
let curr=null;
const db=(f,t)=>{let o;return(...a)=>{clearTimeout(o);o=setTimeout(()=>f(...a),t)}};
const pop=cs=>{if(!cs.length)return $("apiDrop").classList.remove("show");$("apiDrop").innerHTML=cs.map(c=>`<li data-i="${c.oi}">${c.p}</li>`).join('');$("apiDrop").classList.add("show")};
$("apiCount").textContent = `${COMMANDS.length} curls`;
const row=(ct,k="",v="",t="string")=>{
    const r=d.createElement("div");r.className="input-row";
    let vi=ct===$("jCont")?`<input type="text" class="row-val" value="${v}"><select class="json-type-selector">${['string','number','boolean','null','array','object'].map(x=>`<option value="${x}" ${t===x?"selected":""}>${x}</option>`).join('')}</select>`:(ct===$("fCont")&&v.startsWith("@")?`<input type="file" class="row-val">`:`<input type="text" class="row-val" value="${v}">`);
    r.innerHTML=`<input type="text" class="row-key" value="${k}">${vi}<button type="button" class="remove-btn">×</button>`;
    r.querySelector(".remove-btn").onclick=()=>r.remove();ct.appendChild(r)
};
const load=i=>{
    curr=i===null?null:COMMANDS[i];[hCont,qCont,fCont,jCont].forEach(c=>c.innerHTML="");[hSec,qSec,fSec,jSec].forEach(s=>s.classList.remove("active"));$("rBox").classList.remove("show");
    if(!curr){$("apiIn").value="";$("clrSel").style.display="none";return}
    if(curr.h.length){hSec.classList.add("active");curr.h.forEach(x=>row(hCont,x.k,x.v))}
    qSec.classList.add("active");curr.q.forEach(x=>row(qCont,x.k,x.v));
    if(curr.f.length){fSec.classList.add("active");curr.f.forEach(x=>row(fCont,x.k,x.v))}
    if(curr.j.length){jSec.classList.add("active");curr.j.forEach(x=>row(jCont,x.k,x.v,x.t))}
    $("clrSel").style.display="block"
};
$("apiIn").oninput=db(e=>{const v=e.target.value.toLowerCase().trim();if(!v)return load(null);pop(orig.filter(c=>c.p.toLowerCase().includes(v)))},200);
$("apiIn").onfocus=()=>{const v=$("apiIn").value.trim();pop(v?orig.filter(c=>c.p.toLowerCase().includes(v.toLowerCase())):orig)};
$("apiDrop").onclick=e=>{if(e.target.tagName==="LI"){$("apiIn").value=e.target.textContent;load(e.target.dataset.i);$("apiDrop").classList.remove("show")}};
$("clrSel").onclick=()=>load(null);
d.onclick=e=>!$("selW").contains(e.target)&&($("apiDrop").classList.remove("show"),$("apiIn").value=curr?curr.p:"");
$("addH").onclick=()=>{hSec.classList.add("active");row(hCont)};
$("addQ").onclick=()=>{qSec.classList.add("active");row(qCont)};
$("addF").onclick=()=>{fSec.classList.add("active");row(fCont)};
$("addJ").onclick=()=>{jSec.classList.add("active");row(jCont)};
$("clrBtn").onclick=()=>{$("apiForm").reset();$("rTab").innerHTML="";load(null)};
const res=j=>{$("rTab").innerHTML=Object.entries(j).map(([k,v])=>{const s=v&&typeof v=="object"?JSON.stringify(v,null,2):String(v);return `<tr><td class="key">${k}</td><td class="val">${s}</td><td><button class="copy-btn" data-v="${encodeURIComponent(s)}">Copy</button></td></tr>`}).join('');$("rBox").classList.add("show")};
$("rTab").onclick=e=>{if(e.target.className==="copy-btn"){navigator.clipboard.writeText(decodeURIComponent(e.target.dataset.v));e.target.textContent="Copied!";setTimeout(()=>e.target.textContent="Copy",1500)}};
$("apiForm").onsubmit=async e=>{
    e.preventDefault();if(!curr)return alert("Select API");$("subBtn").disabled=true;$("subBtn").textContent="Sending...";
    const ex=(c,isJ=false)=>{const d=[];c.querySelectorAll(".input-row").forEach(r=>{const k=r.querySelector(".row-key").value.trim(),v=r.querySelector(".row-val"),t=isJ?r.querySelector("select").value:null;if(k||v.value)d.push({k,v:v.value,t,f:v.files?.[0]})});return d};
    const hD=ex(hCont),qD=ex(qCont),fD=ex(fCont),jD=ex(jCont,true);
    let u=window.location.origin+curr.p,qs=qD.filter(x=>x.k&&x.v).map(x=>`${encodeURIComponent(x.k)}=${encodeURIComponent(x.v)}`).join('&');if(qs)u+="?"+qs;
    const h={};hD.forEach(x=>{if(x.k&&x.v)h[x.k]=x.k.toLowerCase()==="authorization"?`Bearer ${x.v}`:x.v});
    const o={method:curr.m,headers:h};
    if(fD.length){const fd=new FormData();fD.forEach(x=>{if(x.f)fd.append(x.k,x.f);else if(x.v)fd.append(x.k,x.v)});o.body=fd}
    else if(jD.length){const jo={};try{jD.forEach(x=>{if(!x.k)return;let v=x.v;if(x.t==="number"){v=Number(v);if(isNaN(v))throw new Error(x.k+" NaN")}else if(x.t==="boolean")v=v.toLowerCase()==="true";else if(x.t==="null")v=null;else if(x.t==="array")v=JSON.parse(v);jo[x.k]=v});o.body=JSON.stringify(jo);h["Content-Type"]="application/json"}catch(e){alert(e.message);$("subBtn").disabled=false;return}}
    try{const r=await fetch(u,o),cd=r.headers.get("content-disposition");if(cd?.includes("attachment")){const b=await r.blob(),l=d.createElement("a");l.href=URL.createObjectURL(b);l.download=cd.split("filename=")[1]?.replace(/"/g,"")||"file.csv";l.click();res({status:r.status,message:"Downloaded"})}else{const t=await r.text();let j;try{j=JSON.parse(t)}catch{j={status:r.status,message:t||"Raw"}}res({status:j.status||r.status,message:j.message||j})}}catch(e){res({status:0,message:e.message})}finally{$("subBtn").disabled=false;$("subBtn").textContent="Submit"}
};load(null);
</script>
</body>
</html>